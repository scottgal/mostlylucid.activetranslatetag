!function(n){const t={defaultLang:"en",currentLang:"en",baseUrl:"/translations",cache:{},loading:!1,debug:!1};async function e(n){if(t.cache[n])return t.cache[n];const e=`${t.baseUrl}/${encodeURIComponent(n)}.json`,a=await fetch(e,{cache:"no-cache"});if(!a.ok)throw new Error(`Failed to load translations for ${n}`);const r=await a.json();return t.cache[n]=function(n){if(!n)return{};if(Array.isArray(n)){const t={};for(const e of n){if(!e)continue;const n=e.key||e.Key,a=e.text||e.translatedText||e.Text||e.TranslatedText;n&&"string"==typeof a&&(t[n]=a)}return t}return n}(r)||{},t.cache[n]}async function a(n){const t=await e(n);document.querySelectorAll("[data-translate-key]").forEach(n=>{const e=n.getAttribute("data-translate-key"),a=t[e];"string"==typeof a&&a.length>0&&(n.innerText=a)});document.querySelectorAll("#current-lang, [data-current-lang]").forEach(t=>t.textContent=(n||"en").toUpperCase())}function r(){const n=(document.cookie.match(/(?:^|; )preferred-language=([^;]*)/)||[])[1];return decodeURIComponent(n||"")}const o={init:function(n){(n=n||{}).baseUrl&&(t.baseUrl=n.baseUrl),n.defaultLang&&(t.defaultLang=n.defaultLang),"boolean"==typeof n.debug&&(t.debug=n.debug);const e=r();if(t.currentLang=e||t.defaultLang||"en",t.currentLang&&"en"!==t.currentLang.toLowerCase())this.setLanguage(t.currentLang);else{document.querySelectorAll("#current-lang, [data-current-lang]").forEach(n=>n.textContent="EN")}},setLanguage:async function(n){if(n&&!t.loading)try{t.loading=!0,await a(n),t.currentLang=n,document.cookie=`preferred-language=${encodeURIComponent(n)}; path=/; max-age=31536000; SameSite=Lax`}finally{t.loading=!1}},getCurrentLanguage:function(){return t.currentLang||r()||t.defaultLang||"en"},translatePage:function(n){return a(n||this.getCurrentLanguage())}};n.translationConfig&&(n.translationConfig.baseUrl||n.translationConfig.defaultLang)&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>o.init(n.translationConfig)):o.init(n.translationConfig)),n.TranslationClient=o}(window);